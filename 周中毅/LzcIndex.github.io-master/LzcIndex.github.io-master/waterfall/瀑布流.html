<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="referrer" content="never">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
    <style>
        img {
            width: 100%;
        }

        button {
            position: fixed;
            top: 0;
            left: 0;
        }
    </style>
</head>

<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6 col-md-3">

            </div>
            <div class="col-sm-6 col-md-3">

            </div>
            <div class="col-sm-6 col-md-3">

            </div>
            <div class="col-sm-6 col-md-3">

            </div>
        </div>
    </div>

    <!-- <button>btn</button> -->


    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>

    <script>
        var pageNum = 1;
        var num = 1;
        var d = 0 
        // $('button').click(function () {
        //     $.get('https://api.apiopen.top/getImages', {
        //         page: pageNum,
        //         count: 4
        //     }, function (data, textStautus, jqXHR) {
        //         show(data.result);
        //         pageNum++
        //     })

        // })

        function road() {
            $.get('https://api.apiopen.top/getImages', {
                page: pageNum,
                count: 4
            }, function (data, textStautus, jqXHR) {
                data.result.forEach(function (elemt, index, arr) {
                    console.log(data.result);
                    if (data.result.length == 1) {
                        num = 0;
                    }
                })
                show(data.result);
                pageNum++

                if (num == 0) {
                    return;
                }
                
                
                road()
            })
        }
        road()



        function show(arr) {
            $.each(arr, function (i, e) {        
                $('.col-md-3').eq(i).append('<div class="item"><img src="' + e.img + '" alt=""></div>')

            })
        }

        // var arrd = [1,1,1,1]
        // function show(arr) {
        //     var arrH = []
            
           
        //     $('.row .col-md-3').each(function (index, elemt) {
        //         arrH = arrd.slice(-4)
        //         //  console.log(arrH); 
        //         //  console.log(arrd);
                
        //         if ($(elemt).height() == Math.min.apply(Math, arrH)) {
        //             if(arr[d]){
        //                 $(elemt).append('<div class="item"><img src="' + arr[d].img + '" alt=""></div>')
        //             }
        //             d++
        //             if(d > 3){
        //                 d = 0
        //             }
                    
        //         }
        //         arrd.push($(elemt).height())
        //     })
            
            
        // }
// $.each(arr, function (i, e) {
            //     $('.col-md-3').eq(i).append('<div class="item"><img src="' + e.img + '" alt=""></div>')

            // })
        // var arr = []
        // $('.row .col-md-3').each(function (index,elemt) { 
        //     arr.push($(elemt).height())
        //     console.log(Math.max.apply(Math,arr));
        //     if($(elemt).height() == Math.max.apply(Math,arr)){

        //     }
        //  })

    //    $('button').click(function(){

    //        $.get('https://api.apiopen.top/getImages',{
    //            page : pageNum,
    //            count : 4
    //        },function(data, textStautus, jqXHR){




    //        })
    //    })  





    </script>





</body>

</html>